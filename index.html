<!DOCTYPE html>
<html>
<head>
  <title>Live Signal Dashboard</title>
  <style>
    body { font-family: Arial; background: #111; color: #fff; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 8px; border: 1px solid #444; }
    th { background: #333; }
  </style>
</head>
<body>
  <h2>Live Trading Signals</h2>
  <table id="signalTable">
    <thead>
      <tr><th>Time</th><th>Symbol</th><th>Signal</th><th>Price</th><th>Strategy</th></tr>
    </thead>
    <tbody></tbody>
  </table>

<script>
  const sheetURL = 'https://docs.google.com/spreadsheets/d/<<YOUR-ID>>/gviz/tq?tqx=out:json';

  async function fetchData() {
    const res = await fetch(sheetURL);
    const text = await res.text();
    const json = JSON.parse(text.substr(47).slice(0, -2));
    const rows = json.table.rows;
    const tbody = document.querySelector("#signalTable tbody");
    tbody.innerHTML = "";
    rows.reverse().forEach(r => {
      const cells = r.c.map(c => c.v || '');
      const row = `<tr>
        <td>${cells[0]}</td><td>${cells[1]}</td><td>${cells[2]}</td>
        <td>${cells[3]}</td><td>${cells[4]}</td></tr>`;
      tbody.innerHTML += row;
    });
  }

  setInterval(fetchData, 10000); // Refresh every 10 sec
  fetchData();
</script>
</body>
</html>
